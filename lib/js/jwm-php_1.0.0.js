let JWMPHP_VERSION="1.0.0",JWMPHP_JWM_MIN_VERSION="1.0.0";if(JWM&&JWM.isValid()&&JWM.version_check(JWMPHP_JWM_MIN_VERSION))JWM.phpApiUrl="/api/jwm_php.php",JWM.setApiPath=e=>{"string"!=typeof e||e.length<=0||(JWM.phpApiUrl=e)},JWM.phpRequestData=async t=>new Promise((i,e)=>{let n={identifier:"api-error",title:"API-ERROR",body:"",options:{}};var r=new FormData;r.append("menu",t),fetch(JWM.phpApiUrl,{method:"POST",body:r}).then(e=>{if(e.ok)return e.json();n.body=e.error||"API ERROR, Server responded garbage data.",i(n)},e=>{n.body=response.error||"API ERROR, Network error > "+e.message,i(n)}).then(e=>{e.ok?i(e):(n.body=e.error||"API ERROR, Server responded garbage data.",i(n))}).catch(function(e){n.body=response.error||"API ERROR, Convertion error > "+e,i(n)})}),JWM.requestWindow=async(n,r,t)=>{if("string"==typeof n){("string"!=typeof r||r.length<=0)&&(r=null),("number"!=typeof(t=t||{}).winman_identifier||t.winman_identifier<0)&&("string"!=typeof t.winman_identifier||t.winman_identifier.length<=0)&&(t.winman_identifier=null),("string"!=typeof t.win_identifier||t.win_identifier.length<=0)&&(t.win_identifier=null);let e;JWM.isManager(t.winman_identifier)&&(e=JWM.getManager(t.winman_identifier));n=await JWM.phpRequestData(n);n.identifier=n.identifier+"_"+JWM.w_nextID,t={...n.options,...t},r&&(n.identifier=r);let i;r=n.body;return(i=(e||JWM).newWindow(t.win_identifier,t)).open(n.title,r),i}};else{let e="";e=JWM?JWM.isValid()?JWM.version_check(JWMMB_JWM_MIN_VERSION)?"Error not defind !":`The JWM_MB need a more resent version of JWM, version at least '${JWMMB_JWM_MIN_VERSION}'`:"JWM is not valid ?? how ?":"JWM is not present, check if the file is correctly installed and call before this one !",console.error(`JWM_MB ERROR : JWM_MB unable to load/init !\n   -> `+e)}